#!/usr/bin/env node
// Pre-commit hook (runs lint-staged). This file is intentionally minimal
// Use `npm run install:hooks` or `npm install` to set `.githooks` as Git hooks path.

const { spawn } = require('child_process');

function run(cmd) {
  const proc = spawn(cmd, { stdio: 'inherit', shell: true });
  proc.on('close', (code) => {
    if (code !== 0) {
      console.error('lint-staged failed. Commit aborted.');
      process.exit(code);
    }
    process.exit(0);
  });
}

run('npm run format:staged');
